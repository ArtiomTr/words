(this["webpackJsonpwords-res"]=this["webpackJsonpwords-res"]||[]).push([[0],{58:function(e,t,r){e.exports=r(88)},63:function(e,t,r){},64:function(e,t,r){},88:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(17),i=r.n(o),s=(r(63),r(21)),c=r(15),l=r(23),d=r(24),u=r(25),p=(r(64),r(26)),m=r.n(p),h=r(28),w=r(35),f=r(103),g=r(111),v=r(104),b=r(105),E=r(29),k=r.n(E),y=function(e){function t(e){var r;return Object(s.a)(this,t),(r=Object(l.a)(this,Object(d.a)(t).call(this,e))).loadWordGroups=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("https://raw.githubusercontent.com/ArtiomTr/words/api/groups.json");case 2:t=e.sent,r.setState({wordGroups:t.data,loaded:!0});case 4:case"end":return e.stop()}}),e)}))),r.state={wordGroups:[],loaded:!1},r.loadWordGroups(),r}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state,t=e.wordGroups,r=e.loaded;return n.a.createElement("div",{className:"group-picker"},n.a.createElement(w.a,{color:"inherit",variant:"h4",className:"group-picker__header"},"Pick words group"),r?n.a.createElement(f.a,{className:"group-picker__list"},t.map((function(e){return n.a.createElement(g.a,{key:e.filename,button:!0,onClick:function(){localStorage.setItem("words_group",JSON.stringify(e)),window.location.href=window.location.href+"words"}},n.a.createElement(v.a,{primary:e.name}))}))):n.a.createElement(b.a,{variant:"indeterminate"}))}}]),t}(n.a.Component),O=r(20),j=r(106),W=r(107),x=r(110),G=r(108),S=r(53),F=r.n(S),C=function e(t){var r=this;Object(s.a)(this,e),this.words=void 0,this.possibilities=void 0,this.recalcPossibilities=function(e){for(var t=0,a=0;a<r.words.length;a++)if(e.word===r.words[a].word){t=a;break}var n=r.possibilities[t];r.possibilities[t]*=e.guessed?.8:1.2;var o=n-r.possibilities[t];r.possibilities=r.possibilities.map((function(e,t){return t===t?e:e+o*(e/(.5*r.possibilities.length))}))},this.getRandom=function(){for(var e=Math.random()*r.words.length*.5,t=0,a=0;a<r.possibilities.length;a++){var n=r.possibilities[a];if(t<e&&t+n>e)return r.words[a];t+=n}return r.words[0]},this.words=t,this.possibilities=t.map((function(){return.5}))},_=function(e){function t(e){var r;return Object(s.a)(this,t),(r=Object(l.a)(this,Object(d.a)(t).call(this,e))).group=null,r.lastGroup="",r.randomGenerator=null,r.refreshGroup=function(){var e=localStorage.getItem("words_group");e&&e!==r.lastGroup&&(r.lastGroup=e,r.group=JSON.parse(e),r.loadWords(r.group.filename))},r.loadWords=function(){var e=Object(h.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("https://raw.githubusercontent.com/ArtiomTr/words/api/words/".concat(t));case 2:a=e.sent,r.randomGenerator=new C(a.data),r.setState({words:a.data,loaded:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.pickWord=function(){var e,t;r.setState({currentWord:null!==(e=null===(t=r.randomGenerator)||void 0===t?void 0:t.getRandom())&&void 0!==e?e:null,showAns:!1,guessWordVal:""},(function(){var e;return console.log(null===(e=r.state.currentWord)||void 0===e?void 0:e.word)}))},r.state={words:[],loaded:!1,started:!1,currentWord:null,guessWordVal:"",showAns:!1},r.refreshGroup(),r}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this,r=this.props.show,a=this.state,o=a.currentWord,i=a.loaded,s=a.started,c=a.guessWordVal,l=a.showAns;return this.refreshGroup(),n.a.createElement("div",{className:F()("app-box",{"app-box-show":r})},n.a.createElement("div",{className:"app-box-container"},n.a.createElement("div",{className:"app-box-container__title"},n.a.createElement(j.a,{style:{marginRight:10},color:"inherit",onClick:function(){t.setState({started:!1}),window.location.href=window.location.href.substring(0,window.location.href.indexOf("/#/")+3)}},n.a.createElement(W.a,{color:"inherit"},"arrow_back")),n.a.createElement(w.a,{variant:"h4",style:{margin:"10px 0"}},null===(e=this.group)||void 0===e?void 0:e.name)),s&&o?n.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),l)t.pickWord();else{var r,a=c.trim().toLowerCase()===o.word.trim().toLowerCase();null===(r=t.randomGenerator)||void 0===r||r.recalcPossibilities({word:o.word,guessed:a}),t.setState({showAns:a?"correct":"incorrect"})}}},n.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},l?n.a.createElement("div",{style:{display:"flex",width:"100%"}},"correct"===l?n.a.createElement(W.a,{color:"secondary"},"check_circle"):n.a.createElement(W.a,{style:{color:"#B00020"}},"cancel"),n.a.createElement(w.a,{style:{width:"100%",marginLeft:"10px"},color:"correct"===l?"secondary":"error"},o.word)):n.a.createElement(x.a,{fullWidth:!0,onChange:function(e){return t.setState({guessWordVal:e.target.value})},margin:"dense"}),n.a.createElement(j.a,{style:{marginLeft:10},type:"submit"},n.a.createElement(W.a,{fontSize:"small"},"arrow_forward"))),n.a.createElement(w.a,{className:"word-definition"},o.definition)):n.a.createElement(G.a,{onClick:function(){i&&(t.setState({started:!0}),t.pickWord())},color:"primary",variant:"contained"},i?"Begin":n.a.createElement(b.a,{color:"inherit",variant:"indeterminate"}))))}}]),t}(n.a.Component),N=r(109),P=r(55),B=Object(P.a)({palette:{primary:{dark:"#303F9F",light:"#C5CAE9",main:"#3F51B5",contrastText:"#FFFFFF"},secondary:{light:"#009688",main:"#00796B",dark:"#00796B",contrastText:"#FFF"},error:{main:"#B00020"}}}),A=new Map([["/","groupPicker"],["/words","words"]]),I=function(e){function t(e){var r,a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).currentPage=void 0,a.currentPage=null!==(r=A.get(e.location.pathname))&&void 0!==r?r:"404",a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e;return this.currentPage=null!==(e=A.get(this.props.location.pathname))&&void 0!==e?e:"404",n.a.createElement(N.a,{theme:B},n.a.createElement("div",{className:"app-wrapper"},n.a.createElement(_,{show:"words"===this.currentPage}),n.a.createElement(y,{show:"groupPicker"===this.currentPage})))}}]),t}(n.a.Component),J=Object(O.d)(I);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=r(37);i.a.render(n.a.createElement(L.a,null,n.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[58,1,2]]]);
//# sourceMappingURL=main.fd5e1556.chunk.js.map